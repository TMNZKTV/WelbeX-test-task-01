{"version":3,"sources":["components/radio-buttons/RadioButtons.module.css","components/UI/Loader/Loader.module.css","components/title/Title.js","components/table/Table.js","components/radio-buttons/RadioButtons.js","components/filter/Filter.js","api/CardsService.js","components/UI/Loader/Loader.js","components/pagination/Pagination.js","App.js","components/hooks/useFetching.js","index.js"],"names":["module","exports","Title","className","Table","cards","map","card","idx","date","name","amount","distance","RadioButtons","columns","searchColumns","setSearchColumns","column","styles","input","type","checked","includes","onChange","e","prev","filter","sc","Filter","setSearchValue","useState","inputValue","setInputValue","placeholder","value","target","sendSearchValue","axios","defaults","baseURL","CardsService","get","response","data","files","Loader","loader","Pagination","cardsPerPage","totalCards","paginate","pageNumber","i","Math","ceil","push","number","ahref","onClick","App","setCards","searchValue","hidden","setHidden","currentPage","setCurrentPage","callback","isLoading","setIsLoading","error","setError","a","message","useFetching","getAll","fetchCards","useEffect","lastCardIndex","firstCardIndex","currentCards","slice","Object","keys","style","display","justifyContent","marginTop","some","toString","toLowerCase","search","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1135a476.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"list__group\":\"RadioButtons_list__group__ZRsZC\",\"li\":\"RadioButtons_li__uFeIP\",\"input\":\"RadioButtons_input__3CgFV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1MjUl\",\"rotate\":\"Loader_rotate__3fyxQ\"};","const Title = () => {\n  return <h1 className=\"text-primary mb-3\">Routes and Destinations map</h1>;\n};\n\nexport default Title;\n","import React from \"react\";\n\nconst Table = ({ cards }) => {\n  return (\n    <div>\n      <table className=\"table table-bordered\">\n        <thead>\n          <tr key=\"fixed\">\n            <td className=\"w-25 h4\">Date</td>\n            <td className=\"w-25 h4\">Name</td>\n            <td className=\"w-25 h4\">Amount</td>\n            <td className=\"w-25 h4\">Distance</td>\n          </tr>\n        </thead>\n\n        {cards.map((card, idx) => {\n          return (\n            <tbody key={idx}>\n              <tr>\n                <td className=\"w-25\">{card.date}</td>\n                <td className=\"w-25\">{card.name}</td>\n                <td className=\"w-25\">{card.amount}</td>\n                <td className=\"w-25\">{card.distance}</td>\n              </tr>\n            </tbody>\n          );\n        })}\n      </table>\n    </div>\n  );\n};\n\nexport default Table;\n","import styles from \"./RadioButtons.module.css\";\n\nconst RadioButtons = ({ columns, searchColumns, setSearchColumns }) => {\n  return (\n    <div>\n      {columns.map((column) => {\n        if (column !== \"_id\") {\n          return (\n            <label>\n              <input\n                className={styles.input}\n                type=\"checkbox\"\n                checked={searchColumns.includes(column)}\n                onChange={(e) => {\n                  const checked = searchColumns.includes(column);\n                  setSearchColumns((prev) =>\n                    checked\n                      ? prev.filter((sc) => sc !== column)\n                      : [...prev, column]\n                  );\n                }}\n              />\n              {column}\n            </label>\n          );\n        }\n      })}\n    </div>\n  );\n};\n\nexport default RadioButtons;\n\n// const options = [\"Equals \", \"Includes\", \"More than\", \"Less than\"];\n\n// const [radio, setRadio] = useState(\"\");\n\n// function setParam(e) {\n//   setRadio(e.target.value);\n//   setSearchCondition(e.target.value);\n// }\n\n{\n  /* <ul className={styles.list__group}>\n        {options &&\n          options.map((option, idx) => {\n            return (\n              <li key={idx} className={styles.li}>\n                <label>\n                  <input\n                    className={styles.input}\n                    type=\"radio\"\n                    checked={radio === option}\n                    value={option}\n                    // onChange={(e) => setParam(e)}\n                  />\n                  {option}\n                </label>\n              </li>\n            );\n          })}\n      </ul> */\n}\n","import React, { useState } from \"react\";\n\nconst Filter = ({ setSearchValue }) => {\n  const [inputValue, setInputValue] = useState(\"\");\n\n  function sendSearchValue(e) {\n    setInputValue(e.target.value);\n    setSearchValue(e.target.value);\n  }\n\n  return (\n    <div>\n      <div>\n        <input\n          className=\"form-control\"\n          placeholder=\"Search here\"\n          type=\"text\"\n          value={inputValue}\n          onChange={(e) => sendSearchValue(e)}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Filter;\n","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://welbex-backend.herokuapp.com/api\";\n\nexport default class CardsService {\n  static async getAll() {\n    const response = await axios.get(\"/files\");\n    return response.data.files;\n  }\n}\n","import styles from \"./Loader.module.css\";\n\nconst Loader = () => {\n  return <div className={styles.loader}></div>;\n};\n\nexport default Loader;\n","import React from \"react\";\n\nconst Pagination = ({ cardsPerPage, totalCards, paginate }) => {\n  const pageNumber = [];\n  for (let i = 1; i <= Math.ceil(totalCards / cardsPerPage); i += 1) {\n    pageNumber.push(i);\n  }\n  return (\n    <nav>\n      <ul className=\"pagination\">\n        {pageNumber.map((number) => {\n          return (\n            <li key={number} className=\"page-item mt-3\">\n              <a\n                ahref=\"!#\"\n                className=\"page-link \"\n                onClick={() => paginate(number)}\n              >\n                {number}\n              </a>\n            </li>\n          );\n        })}\n      </ul>\n    </nav>\n  );\n};\n\nexport default Pagination;\n","import React, { useState, useEffect } from \"react\";\n\nimport Title from \"./components/title/Title\";\nimport Table from \"./components/table/Table\";\nimport RadioButtons from \"./components/radio-buttons/RadioButtons\";\nimport Filter from \"./components/filter/Filter\";\nimport CardsService from \"./api/CardsService\";\nimport Loader from \"./components/UI/Loader/Loader\";\nimport { useFetching } from \"./components/hooks/useFetching\";\nimport Pagination from \"./components/pagination/Pagination\";\n\nconst App = () => {\n  const [cards, setCards] = useState([]);\n  const [searchColumns, setSearchColumns] = useState([\"name\"]);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [hidden, setHidden] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [cardsPerPage] = useState(20);\n\n  const [fetchCards, isLoading, error] = useFetching(async () => {\n    const cards = await CardsService.getAll();\n    setCards(cards);\n  });\n\n  useEffect(() => {\n    fetchCards();\n  }, []);\n\n  // // Получаем текущие карточки\n  const lastCardIndex = currentPage * cardsPerPage;\n  const firstCardIndex = lastCardIndex - cardsPerPage;\n  const currentCards = cards.slice(firstCardIndex, lastCardIndex);\n\n  // // Меняем страницу\n  const paginate = (pageNumber) => {\n    setCurrentPage(pageNumber);\n  };\n\n  // Фильтруем карточки\n  function search(cards) {\n    return cards.filter((card) =>\n      searchColumns.some((column) =>\n        card[column]\n          .toString()\n          .toLowerCase()\n          .includes(searchValue.toLowerCase())\n      )\n    );\n  }\n\n  const columns = cards[0] && Object.keys(cards[0]);\n\n  return (\n    <div className=\"container mt-5\">\n      <Title />\n\n      <button type=\"button\" onClick={(e) => setHidden(!hidden)}>\n        Фильтровать +\n      </button>\n\n      {!hidden ? (\n        <>\n          <RadioButtons\n            columns={columns}\n            searchColumns={searchColumns}\n            setSearchColumns={setSearchColumns}\n          />\n          <Filter setSearchValue={setSearchValue} />{\" \"}\n        </>\n      ) : null}\n\n      {error && <h1>Произошла ошибка ${error}</h1>}\n\n      {isLoading ? (\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            marginTop: \"50px\",\n          }}\n        >\n          <Loader />\n        </div>\n      ) : (\n        <Table cards={search(currentCards)} />\n      )}\n\n      <Pagination\n        cardsPerPage={cardsPerPage}\n        totalCards={cards.length}\n        paginate={paginate}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import { useState } from \"react\";\n\nexport const useFetching = (callback) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const fetching = async () => {\n    try {\n      setIsLoading(true);\n      await callback();\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return [fetching, isLoading, error];\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}